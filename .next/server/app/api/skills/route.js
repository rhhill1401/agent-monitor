"use strict";(()=>{var e={};e.id=731,e.ids=[731],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6005:e=>{e.exports=require("node:crypto")},4671:(e,s,t)=>{t.r(s),t.d(s,{headerHooks:()=>m,originalPathname:()=>h,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>k,staticGenerationBailout:()=>_});var r={};t.r(r),t.d(r,{GET:()=>GET,POST:()=>POST,dynamic:()=>l});var n=t(884),a=t(6132),i=t(5798),o=t(7862);let l="force-dynamic",u="franky:skills",d=[{id:"first-principles-thinking",name:"First Principles Thinking",lastUsed:null,useCount:0},{id:"x-native-video-poster",name:"X Native Video Poster",lastUsed:null,useCount:0},{id:"collab-outreach",name:"Collab Outreach",lastUsed:null,useCount:0},{id:"youtube-shorts-optimizer",name:"YouTube Shorts Optimizer",lastUsed:null,useCount:0},{id:"ad-spend-analyzer",name:"Ad Spend Analyzer",lastUsed:null,useCount:0}];async function GET(){try{let e=await o.Z.get(u);return e&&0!==e.length||(await o.Z.set(u,d),e=d),i.Z.json({skills:e})}catch(e){return console.error("Redis error:",e),i.Z.json({skills:d,error:"Using defaults"})}}async function POST(e){try{let s=await e.json(),{skillId:t,action:r}=s;if(s.skills&&Array.isArray(s.skills))return await o.Z.set(u,s.skills),i.Z.json({success:!0,skills:s.skills});if("log"===r&&t){let e=await o.Z.get(u)||d,s=e.findIndex(e=>e.id===t);return -1!==s?(e[s].lastUsed=new Date().toISOString(),e[s].useCount=(e[s].useCount||0)+1):e.push({id:t,name:t.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),lastUsed:new Date().toISOString(),useCount:1}),await o.Z.set(u,e),i.Z.json({success:!0,skill:e.find(e=>e.id===t)})}return i.Z.json({error:'Invalid request. Use {skillId, action: "log"}'},{status:400})}catch(e){return console.error("Redis error:",e),i.Z.json({error:e.message},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/skills/route",pathname:"/api/skills",filename:"route",bundlePath:"app/api/skills/route"},resolvedPagePath:"/Users/Killmunger/clawd/apps/agent-monitor/app/api/skills/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:k,serverHooks:g,headerHooks:m,staticGenerationBailout:_}=p,h="/api/skills/route"},7862:(e,s,t)=>{t.d(s,{Z:()=>a});var r=t(1634);let n=new r.s({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN}),a=n}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[997,634],()=>__webpack_exec__(4671));module.exports=t})();