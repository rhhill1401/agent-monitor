(()=>{var e={};e.id=676,e.ids=[676],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},1149:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>l});var r=n(7096),o=n(6132),i=n(7284),a=n.n(i),s=n(2564),d={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>s[e]);n.d(t,d);let l=["",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,8255)),"/Users/Killmunger/clawd/apps/agent-monitor/app/upload/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,8489)),"/Users/Killmunger/clawd/apps/agent-monitor/app/layout.js"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/Killmunger/clawd/apps/agent-monitor/app/upload/page.js"],p="/upload/page",u={require:n,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/upload/page",pathname:"/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8909:(e,t,n)=>{Promise.resolve().then(n.bind(n,5445))},5445:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>UploadPage});var r=n(784),o=n(9885);let i={container:{background:"#0d1117",minHeight:"100vh",color:"#c9d1d9",padding:"20px",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif"},header:{marginBottom:"30px"},title:{fontSize:"24px",fontWeight:"bold",color:"#58a6ff",marginBottom:"10px"},subtitle:{color:"#8b949e",fontSize:"14px"},backLink:{color:"#58a6ff",textDecoration:"none",fontSize:"14px",display:"inline-block",marginBottom:"20px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},card:{background:"#161b22",borderRadius:"12px",padding:"20px",border:"1px solid #30363d"},cardTitle:{fontSize:"18px",fontWeight:"600",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},cardDesc:{color:"#8b949e",fontSize:"14px",marginBottom:"15px"},textarea:{width:"100%",minHeight:"150px",padding:"12px",background:"#0d1117",border:"1px solid #30363d",borderRadius:"6px",color:"#c9d1d9",fontSize:"13px",resize:"vertical",marginBottom:"10px"},button:{padding:"10px 20px",background:"#238636",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontWeight:"600",fontSize:"14px"},buttonSecondary:{padding:"10px 20px",background:"#21262d",border:"1px solid #30363d",borderRadius:"6px",color:"#c9d1d9",cursor:"pointer",fontSize:"14px",marginLeft:"10px"},success:{color:"#3fb950",fontSize:"13px",marginTop:"10px"},error:{color:"#f85149",fontSize:"13px",marginTop:"10px"},fileList:{marginTop:"30px"},fileItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",background:"#161b22",borderRadius:"8px",marginBottom:"10px",border:"1px solid #30363d"},fileName:{fontWeight:"500"},fileDate:{color:"#8b949e",fontSize:"12px"},viewBtn:{padding:"6px 12px",background:"#21262d",border:"1px solid #30363d",borderRadius:"4px",color:"#c9d1d9",cursor:"pointer",fontSize:"12px"}},a=[{id:"seo",name:"AGENT-SEO-INSTRUCTIONS.md",icon:"\uD83D\uDD0D",desc:"Title, description, and tag rules"},{id:"rules",name:"FRANKY-RULES.md",icon:"\uD83D\uDCCB",desc:"Posting rules and constraints"},{id:"soul",name:"SOUL.md",icon:"\uD83E\uDDE0",desc:"Agent identity and mission"},{id:"heartbeat",name:"HEARTBEAT.md",icon:"\uD83D\uDC93",desc:"Daily checklist and status"}];function UploadPage(){let[e,t]=(0,o.useState)({}),[n,s]=(0,o.useState)(null),[d,l]=(0,o.useState)(""),[c,p]=(0,o.useState)({}),[u,x]=(0,o.useState)([]),[m,g]=(0,o.useState)(""),[h,y]=(0,o.useState)("");(0,o.useEffect)(()=>{a.forEach(e=>{fetch(`/api/memory?file=${e.name}`).then(e=>e.json()).then(n=>{t(t=>({...t,[e.id]:n.content||""}))})}),fetch("/api/knowledge").then(e=>e.json()).then(e=>x(e.docs||[]))},[]);let startEdit=(e,t)=>{s(e),l(t),p({})},saveFile=async(e,n)=>{try{let r=await fetch("/api/memory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:n,content:d})});r.ok&&(t(t=>({...t,[e]:d})),s(null),p({[e]:"Saved!"}),setTimeout(()=>p({}),3e3))}catch(t){p({[e]:"Error saving"})}},uploadCustomDoc=async()=>{if(!m.trim()||!h.trim())return;let e=m.endsWith(".md")?m:`${m}.md`;try{let t=await fetch("/api/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,content:h})});t.ok&&(x(t=>[...t,{name:e,updatedAt:new Date().toISOString()}]),g(""),y(""),p({custom:"Uploaded!"}),setTimeout(()=>p({}),3e3))}catch(e){p({custom:"Error uploading"})}};return(0,r.jsxs)("div",{style:i.container,children:[r.jsx("a",{href:"/",style:i.backLink,children:"â† Back to Dashboard"}),(0,r.jsxs)("header",{style:i.header,children:[r.jsx("h1",{style:i.title,children:"\uD83D\uDCDA Knowledge & Instructions"}),r.jsx("p",{style:i.subtitle,children:"Upload documents and update agent instructions. Changes sync to Franky's brain."})]}),r.jsx("div",{style:i.grid,children:a.map(t=>(0,r.jsxs)("div",{style:i.card,children:[(0,r.jsxs)("div",{style:i.cardTitle,children:[r.jsx("span",{children:t.icon}),r.jsx("span",{children:t.name})]}),r.jsx("p",{style:i.cardDesc,children:t.desc}),n===t.id?(0,r.jsxs)(r.Fragment,{children:[r.jsx("textarea",{value:d,onChange:e=>l(e.target.value),style:i.textarea}),r.jsx("button",{onClick:()=>saveFile(t.id,t.name),style:i.button,children:"Save Changes"}),r.jsx("button",{onClick:()=>s(null),style:i.buttonSecondary,children:"Cancel"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{...i.textarea,minHeight:"80px",overflow:"auto",cursor:"default"},children:[e[t.id]?.substring(0,300)||"Loading...",e[t.id]?.length>300&&"..."]}),r.jsx("button",{onClick:()=>startEdit(t.id,e[t.id]),style:i.button,children:"Edit"})]}),c[t.id]&&r.jsx("p",{style:c[t.id].includes("Error")?i.error:i.success,children:c[t.id]})]},t.id))}),(0,r.jsxs)("div",{style:{marginTop:"40px"},children:[r.jsx("h2",{style:{fontSize:"20px",marginBottom:"20px"},children:"\uD83D\uDCC4 Upload Custom Knowledge"}),(0,r.jsxs)("div",{style:i.card,children:[r.jsx("input",{type:"text",placeholder:"Document name (e.g., competitor-analysis)",value:m,onChange:e=>g(e.target.value),style:{...i.textarea,minHeight:"auto",padding:"12px",marginBottom:"10px"}}),r.jsx("textarea",{value:h,onChange:e=>y(e.target.value),placeholder:"Paste your document content here...  This could be: - Competitor research - Marketing strategies - Content calendars - Style guides - Any knowledge you want Franky to have",style:i.textarea}),r.jsx("button",{onClick:uploadCustomDoc,style:i.button,children:"Upload Document"}),c.custom&&r.jsx("p",{style:c.custom.includes("Error")?i.error:i.success,children:c.custom})]})]}),u.length>0&&(0,r.jsxs)("div",{style:i.fileList,children:[r.jsx("h2",{style:{fontSize:"20px",marginBottom:"20px"},children:"\uD83D\uDCC1 Uploaded Documents"}),u.map((e,t)=>(0,r.jsxs)("div",{style:i.fileItem,children:[(0,r.jsxs)("div",{children:[r.jsx("div",{style:i.fileName,children:e.name}),(0,r.jsxs)("div",{style:i.fileDate,children:["Uploaded: ",new Date(e.updatedAt).toLocaleDateString()]})]}),r.jsx("button",{style:i.viewBtn,children:"View"})]},t))]})]})}},8255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>d});var r=n(5153);let o=(0,r.createProxy)(String.raw`/Users/Killmunger/clawd/apps/agent-monitor/app/upload/page.js`),{__esModule:i,$$typeof:a}=o,s=o.default,d=s},784:(e,t,n)=>{"use strict";e.exports=n(316).vendored["react-ssr"].ReactJsxRuntime}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),n=t.X(0,[472,180],()=>__webpack_exec__(1149));module.exports=n})();